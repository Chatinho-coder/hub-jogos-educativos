<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>üöÄ Aventura no Sistema Solar</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,sans-serif;background:#0b1220;color:#e2e8f0;min-height:100dvh;display:flex;justify-content:center;overflow-x:hidden}
    .app{width:min(860px,100%);padding:18px}
    .card{background:#111a2c;border:1px solid #24324d;border-radius:18px;padding:16px}
    h1{font-size:1.35rem;margin-bottom:4px}
    .muted{color:#93a4c2;font-size:.9rem}

    .tabs{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .tab-btn{background:#17233a;border:1px solid #2e3f5f;color:#c7d2fe;padding:10px 14px;border-radius:10px;font-weight:800;cursor:pointer}
    .tab-btn.active{background:linear-gradient(135deg,#6366f1,#4338ca);color:#fff;border-color:#6366f1}

    .section{margin-top:16px}
    .hidden{display:none !important}

    .study-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
    .planet-card{background:#15233a;border:1px solid #2b3d5c;border-radius:14px;padding:12px}
    .planet-name{font-size:1rem;font-weight:800;color:#c4b5fd}
    .planet-emoji{font-size:1.5rem;margin-right:6px}
    .planet-line{font-size:.88rem;color:#cbd5e1;margin-top:6px;line-height:1.45}

    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .pill{background:#1a2740;border:1px solid #2c3b58;border-radius:999px;padding:6px 10px;font-size:.85rem}

    .question{margin-top:16px;font-size:1.05rem;font-weight:700}
    .options{display:grid;grid-template-columns:1fr;gap:10px;margin-top:14px}
    button.opt{background:#17233a;border:1px solid #2e3f5f;color:#e2e8f0;padding:12px 16px;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;text-align:left}
    button.opt:hover{background:#1f2d4a;border-color:#4338ca}
    button.opt:active{transform:scale(.98)}
    .ok{border-color:#22c55e !important;background:#123524 !important}
    .bad{border-color:#ef4444 !important;background:#3a1b23 !important}

    .feedback{margin-top:10px;color:#a5b4fc;font-size:.9rem;line-height:1.4}
    .next{margin-top:14px;width:100%;background:linear-gradient(135deg,#6366f1,#4338ca);color:#fff;border:none;padding:12px;border-radius:12px;font-size:1rem;font-weight:800;cursor:pointer}

    .result{text-align:center;padding:24px 0}
    .result-emoji{font-size:5rem;margin-bottom:12px}
    .result-title{font-size:1.6rem;font-weight:800;margin-bottom:8px}
    .result-score{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#fbbf24,#f97316);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .result-msg{color:#93a4c2;margin-top:8px;line-height:1.5}
    .replay{margin-top:20px;background:linear-gradient(135deg,#6366f1,#4338ca);color:#fff;border:none;padding:14px 32px;border-radius:12px;font-size:1.05rem;font-weight:800;cursor:pointer}
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <h1>üöÄ Aventura no Sistema Solar</h1>
      <div class="muted">Ci√™ncias 8+ ‚Ä¢ estude e depois teste seus conhecimentos</div>

      <div class="tabs">
        <button class="tab-btn active" id="studyTabBtn">üìö Estudo</button>
        <button class="tab-btn" id="quizTabBtn">üß† Jogo (Quiz)</button>
      </div>

      <section class="section" id="studySection">
        <p class="muted" style="margin-bottom:10px">Leia as informa√ß√µes dos planetas e depois v√° para o quiz.</p>
        <div class="study-grid" id="studyGrid"></div>
      </section>

      <section class="section hidden" id="quizSection">
        <div id="quizGame">
          <div class="row">
            <div class="pill">Pergunta: <span id="qnum">1</span>/<span id="qtotal">0</span></div>
            <div class="pill">Pontos: <span id="score">0</span></div>
            <div class="pill">Tempo: <span id="time">180</span>s</div>
          </div>

          <div class="question" id="question"></div>
          <div class="options" id="options"></div>
          <div class="feedback" id="feedback"></div>
          <button class="next hidden" id="nextBtn">Pr√≥xima pergunta ‚ñ∂</button>
        </div>

        <div class="hidden" id="resultCard">
          <div class="result">
            <div class="result-emoji" id="resultEmoji">üèÜ</div>
            <div class="result-title" id="resultTitle">Miss√£o Completa!</div>
            <div class="result-score" id="resultScore">0</div>
            <div class="result-msg" id="resultMsg"></div>
            <button class="replay" onclick="restartGame()">Jogar novamente üöÄ</button>
          </div>
        </div>
      </section>
    </div>
  </div>

<script>
const studyPlanets = [
  {name:'Merc√∫rio',emoji:'‚òøÔ∏è',info:['Mais pr√≥ximo do Sol','Menor planeta do Sistema Solar','Quase n√£o tem atmosfera']},
  {name:'V√™nus',emoji:'üåü',info:['Planeta mais quente','Atmosfera muito densa com di√≥xido de carbono','Rota√ß√£o muito lenta']},
  {name:'Terra',emoji:'üåç',info:['√önico planeta conhecido com vida','71% da superf√≠cie coberta por √°gua','Tem um sat√©lite natural: a Lua']},
  {name:'Marte',emoji:'üî¥',info:['Conhecido como planeta vermelho','Tem o Monte Olimpo (vulc√£o gigante)','Possui duas luas: Fobos e Deimos']},
  {name:'J√∫piter',emoji:'üü†',info:['Maior planeta do Sistema Solar','Possui a Grande Mancha Vermelha','Tem dezenas de luas']},
  {name:'Saturno',emoji:'ü™ê',info:['Famoso pelos an√©is vis√≠veis','Menor densidade entre os gigantes gasosos','Lua Tit√£ √© uma das maiores do Sistema Solar']},
  {name:'Urano',emoji:'üîµ',info:['Gira ‚Äúdeitado‚Äù (inclina√ß√£o extrema)','Tom azulado por causa do metano','Gigante gelado']},
  {name:'Netuno',emoji:'üíô',info:['Planeta mais distante do Sol','Ventos mais fortes do Sistema Solar','Tamb√©m √© um gigante gelado']}
];

const questions = [
  {q:'Qual √© o planeta mais pr√≥ximo do Sol?',opts:['Merc√∫rio','V√™nus','Terra','Marte'],ans:0,exp:'Merc√∫rio √© o primeiro planeta a partir do Sol.'},
  {q:'Qual planeta √© conhecido como Planeta Vermelho?',opts:['J√∫piter','Marte','V√™nus','Urano'],ans:1,exp:'A cor avermelhada vem do √≥xido de ferro no solo marciano.'},
  {q:'Qual √© o maior planeta do Sistema Solar?',opts:['Saturno','Netuno','J√∫piter','Terra'],ans:2,exp:'J√∫piter √© t√£o grande que caberiam mais de mil Terras nele.'},
  {q:'Qual planeta √© famoso por seus an√©is?',opts:['Merc√∫rio','Terra','Saturno','Marte'],ans:2,exp:'Saturno possui os an√©is mais vis√≠veis e famosos.'},
  {q:'Qual planeta tem os ventos mais r√°pidos j√° medidos?',opts:['Urano','Netuno','J√∫piter','Marte'],ans:1,exp:'Em Netuno, ventos podem passar de 2.000 km/h.'},
  {q:'Qual planeta √© o mais quente do Sistema Solar?',opts:['Merc√∫rio','V√™nus','Marte','J√∫piter'],ans:1,exp:'V√™nus √© mais quente por causa do forte efeito estufa.'},
  {q:'Qual planeta tem inclina√ß√£o t√£o grande que parece girar de lado?',opts:['Terra','Saturno','Urano','Netuno'],ans:2,exp:'Urano tem inclina√ß√£o axial de cerca de 98¬∞.'},
  {q:'Qual planeta √© conhecido por abrigar vida?',opts:['Marte','Terra','V√™nus','Merc√∫rio'],ans:1,exp:'At√© hoje, apenas a Terra tem vida confirmada.'},
  {q:'Em qual planeta fica a Grande Mancha Vermelha?',opts:['J√∫piter','Marte','Saturno','Netuno'],ans:0,exp:'√â uma tempestade gigante na atmosfera de J√∫piter.'},
  {q:'Qual planeta est√° mais distante do Sol?',opts:['Netuno','Urano','Saturno','J√∫piter'],ans:0,exp:'Netuno √© o oitavo planeta e o mais distante do Sol.'},
  {q:'Qual destes √© um planeta rochoso?',opts:['J√∫piter','Saturno','Terra','Netuno'],ans:2,exp:'Terra, Merc√∫rio, V√™nus e Marte s√£o planetas rochosos.'},
  {q:'Qual planeta tem duas luas chamadas Fobos e Deimos?',opts:['Marte','Terra','Urano','Merc√∫rio'],ans:0,exp:'Fobos e Deimos orbitam Marte.'},
  {q:'Qual planeta quase n√£o possui atmosfera?',opts:['Merc√∫rio','V√™nus','Terra','Netuno'],ans:0,exp:'Merc√∫rio n√£o consegue manter uma atmosfera densa.'},
  {q:'Qual destes √© classificado como gigante gasoso?',opts:['Marte','J√∫piter','Merc√∫rio','Terra'],ans:1,exp:'J√∫piter e Saturno s√£o gigantes gasosos.'},
  {q:'Qual planeta possui a lua Tit√£?',opts:['J√∫piter','Saturno','Urano','Netuno'],ans:1,exp:'Tit√£ √© a maior lua de Saturno.'},
  {q:'Qual planeta tem colora√ß√£o azulada por causa do metano?',opts:['Urano','Marte','Merc√∫rio','V√™nus'],ans:0,exp:'O metano ajuda a dar o tom azulado de Urano.'},
  {q:'Qual planeta completa uma volta ao redor do Sol em cerca de 88 dias?',opts:['Merc√∫rio','V√™nus','Terra','Marte'],ans:0,exp:'Merc√∫rio tem o ano mais curto do Sistema Solar.'},
  {q:'Qual planeta √© chamado de ‚Äúg√™meo da Terra‚Äù por ter tamanho parecido?',opts:['V√™nus','Marte','Saturno','Netuno'],ans:0,exp:'V√™nus √© pr√≥ximo em tamanho, mas muito diferente em clima.'},
  {q:'Qual destes n√£o √© um planeta an√£o?',opts:['Plut√£o','Ceres','Terra','√âris'],ans:2,exp:'Terra √© planeta principal, n√£o planeta an√£o.'},
  {q:'Qual planeta possui o maior n√∫mero de luas conhecidas entre os principais?',opts:['J√∫piter','Terra','V√™nus','Merc√∫rio'],ans:0,exp:'J√∫piter lidera em quantidade de luas conhecidas.'},
  {q:'Qual planeta gira mais devagar sobre seu pr√≥prio eixo entre os rochosos?',opts:['Merc√∫rio','V√™nus','Terra','Marte'],ans:1,exp:'Um dia em V√™nus √© extremamente longo.'},
  {q:'Qual planeta √© um gigante gelado?',opts:['Marte','Urano','Merc√∫rio','V√™nus'],ans:1,exp:'Urano e Netuno s√£o classificados como gigantes gelados.'}
];

let current=0, score=0, timer=180, timerInterval=null, answered=false;
const $=id=>document.getElementById(id);

function renderStudy(){
  const grid=$('studyGrid');
  grid.innerHTML='';
  studyPlanets.forEach(p=>{
    const card=document.createElement('div');
    card.className='planet-card';
    card.innerHTML=`<div class="planet-name"><span class="planet-emoji">${p.emoji}</span>${p.name}</div>` +
      p.info.map(i=>`<div class="planet-line">‚Ä¢ ${i}</div>`).join('');
    grid.appendChild(card);
  });
}

function switchTab(tab){
  const study=tab==='study';
  $('studySection').classList.toggle('hidden',!study);
  $('quizSection').classList.toggle('hidden',study);
  $('studyTabBtn').classList.toggle('active',study);
  $('quizTabBtn').classList.toggle('active',!study);
}

function showQuestion(){
  const q=questions[current];
  $('qnum').textContent=current+1;
  $('qtotal').textContent=questions.length;
  $('question').textContent=q.q;
  $('feedback').textContent='';
  $('nextBtn').classList.add('hidden');
  answered=false;

  const opts=$('options');opts.innerHTML='';
  q.opts.forEach((o,i)=>{
    const b=document.createElement('button');b.className='opt';b.textContent=o;
    b.onclick=()=>selectAnswer(i);opts.appendChild(b);
  });
}

function selectAnswer(i){
  if(answered)return;answered=true;
  const q=questions[current];
  const btns=$('options').children;
  if(i===q.ans){
    btns[i].classList.add('ok');
    score += 10;
    $('score').textContent=score;
    $('feedback').textContent='‚úÖ Correto! '+q.exp;
  }else{
    btns[i].classList.add('bad');
    btns[q.ans].classList.add('ok');
    $('feedback').textContent='‚ùå Resposta certa: '+q.opts[q.ans]+'. '+q.exp;
  }

  if(current<questions.length-1){
    $('nextBtn').classList.remove('hidden');
  }else{
    setTimeout(endGame,700);
  }
}

function nextQuestion(){
  current++;
  showQuestion();
}

function startTimer(){
  clearInterval(timerInterval);
  timerInterval=setInterval(()=>{
    timer--;$('time').textContent=timer;
    if(timer<=0){clearInterval(timerInterval);endGame();}
    if(timer<=15)$('time').style.color='#ef4444';
  },1000);
}

function endGame(){
  clearInterval(timerInterval);
  $('quizGame').classList.add('hidden');
  $('resultCard').classList.remove('hidden');
  $('resultScore').textContent=score+' pontos';

  let emoji,title,msg;
  if(score>=190){emoji='üåü';title='Astronauta Lend√°rio!';msg='Dom√≠nio total do Sistema Solar. Aula dada!';}
  else if(score>=140){emoji='üöÄ';title='Explorador Estelar!';msg='Mandou muito bem no quiz!';}
  else if(score>=90){emoji='üõ∞Ô∏è';title='Cadete Espacial!';msg='Bom n√≠vel! Revise a se√ß√£o de estudo e tente de novo.';}
  else{emoji='üî≠';title='Iniciante C√≥smico';msg='Sem stress: estuda mais um pouco e decola na pr√≥xima!';}

  $('resultEmoji').textContent=emoji;
  $('resultTitle').textContent=title;
  $('resultMsg').textContent=msg;

  window.parent.postMessage({type:'game-score',game:'sistema-solar',score},'*');
}

function restartGame(){
  current=0;score=0;timer=180;answered=false;
  $('score').textContent='0';$('time').textContent='180';$('time').style.color='';
  $('quizGame').classList.remove('hidden');$('resultCard').classList.add('hidden');
  showQuestion();startTimer();
}

$('studyTabBtn').onclick=()=>switchTab('study');
$('quizTabBtn').onclick=()=>switchTab('quiz');
$('nextBtn').onclick=nextQuestion;

renderStudy();
showQuestion();
startTimer();
</script>
</body>
</html>