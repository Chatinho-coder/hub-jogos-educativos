<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üìú Linha do Tempo</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,sans-serif;background:#0b1220;color:#e2e8f0;display:flex;justify-content:center;min-height:100dvh}
    .app{width:min(820px,100%);padding:18px}.card{background:#111a2c;border:1px solid #24324d;border-radius:18px;padding:16px}
    h1{font-size:1.3rem}.muted{color:#93a4c2;font-size:.9rem;margin-top:4px}
    .tabs{display:flex;gap:10px;margin-top:14px}.tab{background:#17233a;border:1px solid #2e3f5f;color:#c7d2fe;padding:10px 14px;border-radius:10px;font-weight:800;cursor:pointer}
    .tab.active{background:linear-gradient(135deg,#14b8a6,#0f766e);color:#fff;border-color:#14b8a6}
    .hidden{display:none!important}.section{margin-top:16px}
    .study-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:10px}
    .item{background:#15233a;border:1px solid #2b3d5c;border-radius:12px;padding:12px}
    .year{font-weight:800;color:#5eead4}.title{margin-top:6px;font-weight:700}.desc{margin-top:6px;color:#cbd5e1;font-size:.9rem;line-height:1.4}
    .row{display:flex;gap:10px;flex-wrap:wrap}.pill{background:#1a2740;border:1px solid #2c3b58;border-radius:999px;padding:6px 10px;font-size:.85rem}
    .question{margin-top:14px;font-size:1.05rem;font-weight:700}.options{display:grid;gap:10px;margin-top:12px}
    .opt{background:#17233a;border:1px solid #2e3f5f;color:#e2e8f0;padding:12px;border-radius:10px;text-align:left;font-weight:700;cursor:pointer}
    .ok{background:#123524;border-color:#22c55e}.bad{background:#3a1b23;border-color:#ef4444}
    .feedback{margin-top:10px;color:#a5f3fc;font-size:.92rem}.next{margin-top:12px;width:100%;padding:12px;border:0;border-radius:10px;background:#14b8a6;color:#042f2e;font-weight:800;cursor:pointer}
  </style>
</head>
<body>
<div class="app"><div class="card">
  <h1>üìú Linha do Tempo</h1>
  <p class="muted">Hist√≥ria 9+ ‚Ä¢ estude eventos e teste ordem cronol√≥gica</p>
  <div class="tabs">
    <button class="tab active" id="studyBtn">üìö Estudo</button>
    <button class="tab" id="quizBtn">üß† Jogo</button>
  </div>

  <section class="section" id="studySec"><div class="study-grid" id="studyGrid"></div></section>

  <section class="section hidden" id="quizSec">
    <div id="quizWrap">
      <div class="row">
        <div class="pill">Pergunta: <span id="qnum">1</span>/12</div>
        <div class="pill">Pontos: <span id="score">0</span></div>
        <div class="pill">Tempo: <span id="time">180</span>s</div>
      </div>
      <div class="question" id="question"></div>
      <div class="options" id="options"></div>
      <div class="feedback" id="feedback"></div>
      <button class="next hidden" id="nextBtn">Pr√≥xima ‚ñ∂</button>
    </div>
  </section>
</div></div>
<script>
const STUDY=[
  {y:1500,t:'Chegada dos portugueses ao Brasil',d:'In√≠cio oficial da coloniza√ß√£o portuguesa no territ√≥rio brasileiro.'},
  {y:1822,t:'Independ√™ncia do Brasil',d:'Dom Pedro I proclamou a independ√™ncia em 7 de setembro.'},
  {y:1888,t:'Lei √Åurea',d:'A escravid√£o foi oficialmente abolida no Brasil.'},
  {y:1889,t:'Proclama√ß√£o da Rep√∫blica',d:'Fim do Imp√©rio e in√≠cio da Rep√∫blica no Brasil.'},
  {y:1914,t:'In√≠cio da Primeira Guerra Mundial',d:'Conflito global que durou at√© 1918.'},
  {y:1939,t:'In√≠cio da Segunda Guerra Mundial',d:'Conflito mundial que terminou em 1945.'},
  {y:1969,t:'Primeiro homem na Lua',d:'Neil Armstrong pisou na Lua na miss√£o Apollo 11.'},
  {y:1989,t:'Queda do Muro de Berlim',d:'Marco simb√≥lico do fim da Guerra Fria.'}
];
const QUESTIONS=[
 {q:'O que aconteceu primeiro?',opts:['Independ√™ncia do Brasil','Lei √Åurea','Proclama√ß√£o da Rep√∫blica','Chegada dos portugueses ao Brasil'],ans:3,exp:'1500 vem antes de 1822, 1888 e 1889.'},
 {q:'Qual evento veio depois da Lei √Åurea?',opts:['Proclama√ß√£o da Rep√∫blica','Chegada dos portugueses','Independ√™ncia do Brasil','Primeira Guerra Mundial'],ans:0,exp:'Lei √Åurea (1888) foi seguida pela Rep√∫blica (1889).'},
 {q:'Qual ocorreu antes: Primeira ou Segunda Guerra Mundial?',opts:['Segunda','Primeira','Empate','Nenhuma'],ans:1,exp:'A Primeira Guerra come√ßou em 1914, antes de 1939.'},
 {q:'Em ordem correta (mais antigo ‚Üí mais recente):',opts:['1889, 1822, 1888','1822, 1888, 1889','1888, 1822, 1889','1822, 1889, 1888'],ans:1,exp:'1822 ‚Üí 1888 ‚Üí 1889.'},
 {q:'Qual evento √© de 1969?',opts:['Queda do Muro de Berlim','Primeiro homem na Lua','Lei √Åurea','Segunda Guerra'],ans:1,exp:'Apollo 11 foi em 1969.'},
 {q:'O evento mais recente da lista √©:',opts:['Primeira Guerra Mundial','Proclama√ß√£o da Rep√∫blica','Queda do Muro de Berlim','Independ√™ncia do Brasil'],ans:2,exp:'1989 √© o ano mais recente entre essas op√ß√µes.'},
 {q:'Qual veio primeiro: Independ√™ncia ou Rep√∫blica?',opts:['Rep√∫blica','Independ√™ncia','Mesma data','Nenhuma'],ans:1,exp:'Independ√™ncia (1822) antecede Rep√∫blica (1889).'},
 {q:'Aboli√ß√£o da escravid√£o ocorreu em:',opts:['1500','1822','1888','1889'],ans:2,exp:'Lei √Åurea foi em 1888.'},
 {q:'Qual sequ√™ncia est√° correta?',opts:['1500 ‚Üí 1822 ‚Üí 1888','1888 ‚Üí 1822 ‚Üí 1500','1822 ‚Üí 1500 ‚Üí 1889','1889 ‚Üí 1888 ‚Üí 1822'],ans:0,exp:'Essa segue a ordem cronol√≥gica correta.'},
 {q:'A Queda do Muro de Berlim foi:',opts:['Antes da ida √† Lua','No mesmo ano da Lei √Åurea','Depois da ida √† Lua','Antes da Primeira Guerra'],ans:2,exp:'1969 (Lua) veio antes de 1989 (Muro).'},
 {q:'Qual aconteceu entre 1888 e 1914?',opts:['Proclama√ß√£o da Rep√∫blica','Chegada dos portugueses','Segunda Guerra','Queda do Muro'],ans:0,exp:'Rep√∫blica foi em 1889.'},
 {q:'Evento mais antigo da lista:',opts:['Proclama√ß√£o da Rep√∫blica','Chegada dos portugueses ao Brasil','Independ√™ncia do Brasil','Primeira Guerra Mundial'],ans:1,exp:'1500 √© a data mais antiga da lista.'}
];
let i=0,s=0,t=180,lock=false,int=null;const $=id=>document.getElementById(id);
function renderStudy(){const g=$('studyGrid');g.innerHTML='';STUDY.forEach(e=>{const c=document.createElement('div');c.className='item';c.innerHTML=`<div class='year'>${e.y}</div><div class='title'>${e.t}</div><div class='desc'>${e.d}</div>`;g.appendChild(c)})}
function tab(m){$('studySec').classList.toggle('hidden',m!=='study');$('quizSec').classList.toggle('hidden',m!=='quiz');$('studyBtn').classList.toggle('active',m==='study');$('quizBtn').classList.toggle('active',m==='quiz')}
function q(){const cur=QUESTIONS[i];$('qnum').textContent=i+1;$('score').textContent=s;$('question').textContent=cur.q;$('feedback').textContent='';$('nextBtn').classList.add('hidden');lock=false;const o=$('options');o.innerHTML='';cur.opts.forEach((op,idx)=>{const b=document.createElement('button');b.className='opt';b.textContent=op;b.onclick=()=>a(idx);o.appendChild(b)})}
function a(idx){if(lock)return;lock=true;const cur=QUESTIONS[i],btns=$('options').children;if(idx===cur.ans){btns[idx].classList.add('ok');s+=10;$('feedback').textContent='‚úÖ '+cur.exp}else{btns[idx].classList.add('bad');btns[cur.ans].classList.add('ok');$('feedback').textContent='‚ùå '+cur.exp}$('nextBtn').classList.remove('hidden');if(i===QUESTIONS.length-1){$('nextBtn').textContent='Finalizar üèÅ'}}
function next(){if(i<QUESTIONS.length-1){i++;q();return}end()}
function startTimer(){clearInterval(int);int=setInterval(()=>{t--;$('time').textContent=t;if(t<=0)end()},1000)}
function end(){clearInterval(int);const final=s+Math.max(0,t);$('quizWrap').innerHTML=`<div style='text-align:center;padding:18px'><h1>üèÜ Miss√£o conclu√≠da</h1><p class='muted' style='margin-top:8px'>Pontos base: ${s} ‚Ä¢ b√¥nus tempo: ${Math.max(0,t)}</p><div style='font-size:2.1rem;font-weight:800;margin-top:10px;color:#5eead4'>${final} pontos</div><button class='next' style='margin-top:14px' onclick='location.reload()'>Jogar novamente</button></div>`;window.parent.postMessage({type:'game-score',game:'linha-do-tempo',score:final},'*')}
$('studyBtn').onclick=()=>tab('study');$('quizBtn').onclick=()=>tab('quiz');$('nextBtn').onclick=next;
renderStudy();q();startTimer();
</script>
</body>
</html>